# =============================================================================
# PRODUCTION ENVIRONMENT VALUES
# =============================================================================

global:
  environment: production

# MongoDB - High availability
mongodb:
  replicas: 3
  storage:
    size: 20Gi
    # storageClass: gp3
  vpa:
    enabled: true

# Backend - Production resources
backend:
  replicas: 2
  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi
  hpa:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilization: 70

# Frontend - Production resources
frontend:
  replicas: 3
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  hpa:
    enabled: true
    minReplicas: 3
    maxReplicas: 10
    targetCPUUtilization: 70

# Ingress - Production domains
ingress:
  hosts:
    - host: chat-app.com
      paths:
        - path: /
          pathType: ImplementationSpecific
          service: frontend
          port: 80
        - path: /api
          pathType: ImplementationSpecific
          service: backend
          port: 5001
        - path: /socket.io
          pathType: ImplementationSpecific
          service: backend
          port: 5001
    - host: api.chat-app.com
      paths:
        - path: /
          pathType: ImplementationSpecific
          service: backend
          port: 5001
  tls:
    enabled: true
    secretName: chatapp-tls-secret
    hosts:
      - chat-app.com
      - api.chat-app.com